"use strict";var listsContainer=document.querySelector("[data-lists]"),newListForm=document.querySelector("[data-new-list-form]"),newListInput=document.querySelector("[data-new-list-input]"),deleteListButton=document.querySelector("[data-delete-list-button]"),listDisplayContainer=document.querySelector("[data-list-display-container]"),listTitleElement=document.querySelector("[data-list-title]"),listCountElement=document.querySelector("[data-list-count]"),tasksContainer=document.querySelector("[data-tasks]"),LOCAL_STORAGE_LIST_KEY="task.lists",LOCAL_STORAGE_SELECTED_LIST_ID_KEY="task.selectedListId",lists=JSON.parse(localStorage.getItem(LOCAL_STORAGE_LIST_KEY))||[],selectedListId=localStorage.getItem(LOCAL_STORAGE_SELECTED_LIST_ID_KEY);function createList(e){return{id:Date.now().toString(),name:e,tasks:[]}}function saveAndRender(){save(),render()}function save(){localStorage.setItem(LOCAL_STORAGE_LIST_KEY,JSON.stringify(lists)),localStorage.setItem(LOCAL_STORAGE_SELECTED_LIST_ID_KEY,selectedListId)}function render(){clearElement(listsContainer),renderLists();var e=lists.find((function(e){return e.id===selectedListId}));null==selectedListId?listDisplayContainer.style.display="none":(listDisplayContainer.style.display="",listTitleElement.innerText=e.name)}function renderLists(){lists.forEach((function(e){var t=document.createElement("li");t.dataset.listId=e.id,t.classList.add("list-name"),t.innerText=e.name,e.id===selectedListId&&t.classList.add("active-list"),listsContainer.appendChild(t)}))}function clearElement(e){for(;e.firstChild;)e.removeChild(e.firstChild)}listsContainer.addEventListener("click",(function(e){"li"===e.target.tagName.toLowerCase()&&(selectedListId=e.target.dataset.listId,saveAndRender())})),deleteListButton.addEventListener("click",(function(e){lists=lists.filter((function(e){return e.id!==selectedListId})),selectedListId=null,saveAndRender()})),newListForm.addEventListener("submit",(function(e){e.preventDefault();var t=newListInput.value;if(null!=t&&""!==t){var s=createList(t);newListInput.value=null,lists.push(s),saveAndRender()}})),render();
//# sourceMappingURL=script.js.map